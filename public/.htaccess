<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # --- Redirect www to non-www ---
  RewriteCond %{HTTP_HOST} ^www\.thecontentflux\.com$ [NC]
  RewriteRule ^(.*)$ https://thecontentflux.com/$1 [L,R=301]

  # --- Redirect HTTP to HTTPS ---
  RewriteCond %{HTTPS} off
  RewriteRule ^(.*)$ https://thecontentflux.com/$1 [L,R=301]

  # --- Redirect /index.html to root ---
  RewriteCond %{THE_REQUEST} /index\.html [NC]
  RewriteRule ^index\.html$ https://thecontentflux.com/ [R=301,L]

  # --- Redirect /home to root ---
  RewriteCond %{THE_REQUEST} /home[\s/] [NC]
  RewriteRule ^home$ https://thecontentflux.com/ [R=301,L]

  # --- React SPA Routing ---
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [QSA,L]
</IfModule>
